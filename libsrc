-- Grok UI Library - Enhanced Modern Version (Executor-Friendly)
-- Sleek dark theme with shades of black, rounded corners, transparency, smooth animations, gradients, and tabs!
-- Load via: loadstring(game:HttpGet("https://raw.githubusercontent.com/jdk-1337/grok-ui-lib-Sob-/refs/heads/main/libsrc"))()

local GrokUILib = {}
GrokUILib.__index = GrokUILib

local TweenService = game:GetService("TweenService")

-- Modern Dark Theme (black shades as requested)
GrokUILib.DefaultTheme = {
    MainBG = Color3.fromRGB(13, 13, 13),          -- Deepest black for main window
    AccentBG = Color3.fromRGB(20, 20, 20),        -- Slightly lighter for tabs/content
    SecondaryBG = Color3.fromRGB(15, 15, 15),     -- For highlights or inner frames
    PrimaryAccent = Color3.fromRGB(0, 122, 255),  -- Blue accent for buttons/gradients
    HoverAccent = Color3.fromRGB(0, 170, 255),
    ClickAccent = Color3.fromRGB(0, 80, 200),
    TextColor = Color3.fromRGB(255, 255, 255),
    InactiveText = Color3.fromRGB(180, 180, 180),
    Font = Enum.Font.GothamBold,
    TitleFont = Enum.Font.GothamBlack,
    FontSize = 16,
    TitleSize = 24,
    CornerRadius = UDim.new(0, 10),
    GradientEnabled = true,
    AnimationSpeed = 0.25,
    MainTransparency = 0.05,                     -- Slight transparency for modern glass effect
}

function GrokUILib.new(customTheme)
    local self = setmetatable({}, GrokUILib)
    self.Theme = customTheme or GrokUILib.DefaultTheme
    self.ScreenGui = Instance.new("ScreenGui")
    self.ScreenGui.Name = "GrokModernUI"
    self.ScreenGui.ResetOnSpawn = false
    self.ScreenGui.Parent = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
    return self
end

-- Helper: Add UICorner
local function AddCorner(element, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = radius or self.Theme.CornerRadius
    corner.Parent = element
end

-- Helper: Add subtle gradient
local function AddGradient(element)
    if self.Theme.GradientEnabled then
        local grad = Instance.new("UIGradient")
        grad.Color = ColorSequence.new{
            ColorSequenceKeypoint.new(0, self.Theme.PrimaryAccent),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(100, 100, 255))
        }
        grad.Rotation = 45
        grad.Transparency = NumberSequence.new{
            NumberSequenceKeypoint.new(0, 0.7),
            NumberSequenceKeypoint.new(1, 0.9)
        }
        grad.Parent = element
    end
end

-- Helper: Hover/Click animation for buttons
local function AddButtonAnimation(button)
    local original = button.BackgroundColor3
    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(self.Theme.AnimationSpeed), {BackgroundColor3 = self.Theme.HoverAccent}):Play()
    end)
    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(self.Theme.AnimationSpeed), {BackgroundColor3 = original}):Play()
    end)
    button.MouseButton1Down:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.1), {BackgroundColor3 = self.Theme.ClickAccent}):Play()
    end)
    button.MouseButton1Up:Connect(function()
        TweenService:Create(button, TweenInfo.new(self.Theme.AnimationSpeed), {BackgroundColor3 = self.Theme.HoverAccent}):Play()
    end)
end

-- Create Main Window with Tabs
function GrokUILib:CreateWindow(options)
    local window = Instance.new("Frame")
    window.Name = options.Name or "ModernWindow"
    window.Size = options.Size or UDim2.new(0, 500, 0, 400)
    window.Position = UDim2.new(0.5, -window.Size.X.Offset/2, 0.5, -window.Size.Y.Offset/2)
    window.BackgroundColor3 = self.Theme.MainBG
    window.BackgroundTransparency = self.Theme.MainTransparency
    window.Parent = options.Parent or self.ScreenGui
    AddCorner(window, UDim.new(0, 12))

    -- Title Bar
    local titleBar = Instance.new("Frame")
    titleBar.Size = UDim2.new(1, 0, 0, 50)
    titleBar.BackgroundColor3 = self.Theme.SecondaryBG
    titleBar.BackgroundTransparency = 0.3
    titleBar.Parent = window
    AddCorner(titleBar, UDim.new(0, 12)) -- Only top corners

    local titleLabel = Instance.new("TextLabel")
    titleLabel.Text = options.Title or "Grok UI"
    titleLabel.Size = UDim2.new(1, -60, 1, 0)
    titleLabel.Position = UDim2.new(0, 20, 0, 0)
    titleLabel.BackgroundTransparency = 1
    titleLabel.TextColor3 = self.Theme.TextColor
    titleLabel.Font = self.Theme.TitleFont
    titleLabel.TextSize = self.Theme.TitleSize
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    titleLabel.Parent = titleBar

    -- Close Button
    local closeBtn = Instance.new("TextButton")
    closeBtn.Text = "âœ•"
    closeBtn.Size = UDim2.new(0, 40, 0, 40)
    closeBtn.Position = UDim2.new(1, -50, 0, 5)
    closeBtn.BackgroundTransparency = 1
    closeBtn.TextColor3 = self.Theme.TextColor
    closeBtn.Font = self.Theme.TitleFont
    closeBtn.TextSize = 28
    closeBtn.Parent = titleBar
    closeBtn.MouseButton1Click:Connect(function()
        window:Destroy()
    end)

    -- Tab Frame
    local tabFrame = Instance.new("Frame")
    tabFrame.Size = UDim2.new(1, 0, 0, 40)
    tabFrame.Position = UDim2.new(0, 0, 0, 50)
    tabFrame.BackgroundColor3 = self.Theme.AccentBG
    tabFrame.Parent = window

    -- Content Frame
    local contentFrame = Instance.new("Frame")
    contentFrame.Size = UDim2.new(1, 0, 1, -90)
    contentFrame.Position = UDim2.new(0, 0, 0, 90)
    contentFrame.BackgroundColor3 = self.Theme.AccentBG
    contentFrame.BackgroundTransparency = 0.2
    contentFrame.Parent = window
    AddCorner(contentFrame, UDim.new(0, 12))

    -- Tab System
    window.Tabs = {}
    window.CurrentTab = nil

    function window:AddTab(tabName)
        local tabBtn = Instance.new("TextButton")
        tabBtn.Text = tabName
        tabBtn.Size = UDim2.new(0, 120, 1, 0)
        tabBtn.Position = UDim2.new(0, (#window.Tabs * 120), 0, 0)
        tabBtn.BackgroundColor3 = self.Theme.SecondaryBG
        tabBtn.TextColor3 = self.Theme.InactiveText
        tabBtn.Font = self.Theme.Font
        tabBtn.TextSize = self.Theme.FontSize
        tabBtn.Parent = tabFrame

        local tabContent = Instance.new("Frame")
        tabContent.Size = UDim2.new(1, -20, 1, -20)
        tabContent.Position = UDim2.new(0, 10, 0, 10)
        tabContent.BackgroundTransparency = 1
        tabContent.Visible = false
        tabContent.Parent = contentFrame

        table.insert(window.Tabs, {Button = tabBtn, Content = tabContent})

        -- Tab selection
        tabBtn.MouseButton1Click:Connect(function()
            if window.CurrentTab then
                window.CurrentTab.Button.BackgroundColor3 = self.Theme.SecondaryBG
                window.CurrentTab.Button.TextColor3 = self.Theme.InactiveText
                window.CurrentTab.Content.Visible = false
            end
            tabBtn.BackgroundColor3 = self.Theme.PrimaryAccent
            tabBtn.TextColor3 = Color3.fromRGB(255,255,255)
            tabContent.Visible = true
            window.CurrentTab = {Button = tabBtn, Content = tabContent}
        end)

        -- Auto-select first tab
        if #window.Tabs == 1 then
            tabBtn.MouseButton1Click:Fire()
        end

        return tabContent
    end

    return window
end

-- Quick Button (for use inside tabs)
function GrokUILib:CreateButton(options)
    local btn = Instance.new("TextButton")
    btn.Name = options.Name or "Button"
    btn.Size = options.Size or UDim2.new(0, 200, 0, 50)
    btn.Position = options.Position or UDim2.new(0, 0, 0, 0)
    btn.Text = options.Text or "Button"
    btn.BackgroundColor3 = self.Theme.PrimaryAccent
    btn.TextColor3 = self.Theme.TextColor
    btn.Font = self.Theme.Font
    btn.TextSize = self.Theme.FontSize
    btn.Parent = options.Parent
    AddCorner(btn)
    AddGradient(btn)
    AddButtonAnimation(btn)

    if options.Callback then
        btn.MouseButton1Click:Connect(options.Callback)
    end

    return btn
end

-- Quick Label
function GrokUILib:CreateLabel(options)
    local label = Instance.new("TextLabel")
    label.Text = options.Text or "Label"
    label.Size = options.Size or UDim2.new(1, 0, 0, 30)
    label.Position = options.Position or UDim2.new(0, 0, 0, 0)
    label.BackgroundTransparency = 1
    label.TextColor3 = self.Theme.TextColor
    label.Font = self.Theme.Font
    label.TextSize = self.Theme.FontSize
    label.TextXAlignment = Enum.TextXAlignment.Left
    label.Parent = options.Parent
    return label
end

function GrokUILib:Destroy()
    if self.ScreenGui then self.ScreenGui:Destroy() end
end

return GrokUILib
